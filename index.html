<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Testing</title>
	<script src="index.js"></script>
</head>
<body>

<script type="text/ecmascript">

"use strict";

var stylesheets = [

	"http://www.csszengarden.com/215/215.css",
	"http://www.csszengarden.com/214/214.css",
	"http://www.csszengarden.com/213/213.css"

]

var javascripts = [

	"https://ajax.googleapis.com/ajax/libs/mootools/1.6.0/mootools.min.js",
	"https://ajax.googleapis.com/ajax/libs/threejs/r69/three.min.js",
	"https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"

]

var p1 = StyleSheetPromise.all(stylesheets).then(urls => {

	console.log('stylesheet resolved:', urls)

}).catch(urls => {

	console.log('stylesheet rejectd:', urls)

})

var p2 = JavaScriptPromise.all(javascripts).then(urls => {

	console.log('javascript resolved:', urls)

}).catch(urls => {

	console.log('javascript rejectd:', urls)

})

Promise.all([ p1, p2 ]).then((stylesheets, javascripts) => {

	console.log('resolved:', stylesheets, javascripts)

}).catch((stylesheets, javascripts) => {

	console.log('rejected:', stylesheets, javascripts)

})

new StyleSheetPromise("http://some-domain-name/" + Math.random() + ".js").then(url => {

	console.log('fake resolve:', url)

}).catch(url => {

	console.log('fake reject:', url)

})

</script>

</body>
</html>
